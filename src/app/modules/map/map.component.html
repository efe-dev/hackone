<agm-map
  [latitude]="map.lat"
  [longitude]="map.lng"
  [mapTypeId]="map.mapType"
  [zoom]="map.zoom"
  (mapClick)="mapClicked($event)"
  (mapReady)="mapReady($event)"
  (zoomChange)="closeInfoWindow()"
>
  <agm-marker
    *ngFor="let marker of markers"
    [latitude]="marker.lat"
    [longitude]="marker.lng"
    [opacity]="marker.alpha"
    [iconUrl]="marker.icon"
    (markerClick)="showInfoPopover(markerInfoWindow, marker)"
  >
    <agm-info-window #markerInfoWindow [disableAutoPan]="true">
      <h3>{{ marker.name }}</h3>
    </agm-info-window>
  </agm-marker>
</agm-map>

<button (click)="click()">azxczx</button>
