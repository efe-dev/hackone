<agm-map
  [latitude]="map.lat"
  [longitude]="map.lng"
  [mapTypeId]="map.mapType"
  [zoom]="map.zoom"
  (mapClick)="mapClicked($event)"
  (mapReady)="changeView($event)"
  >
      <agm-marker
        *ngFor="let marker of markers"
        [latitude]="marker.lat"
        [longitude]="marker.lng"
        [opacity]="marker.alpha"
        (markerClick)="selectMarker($event)"
        [iconUrl]="marker.icon"
      >
      </agm-marker>
</agm-map>
